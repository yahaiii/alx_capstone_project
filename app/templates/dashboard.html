{% extends "base.html" %}

{% block content %}
    <!-- User Account Balance -->
    <section class="dashboard-section">
        <h2>Account Balance</h2>
        <!-- User current account balance displays here -->
    </section>

    <!-- Total Income -->
    <section class="dashboard-section">
        <h2>Total Income</h2>
        <!-- User total income within time range displays here -->
    </section>

    <!-- Total Expenses -->
    <section class="dashboard-section">
        <h2>Total Expenses</h2>
        <!-- Total expenses within time range displays here -->
    </section>

    <!-- Total Expenses with Categories Visualization -->
    <section class="dashboard-section">
        <h2>Total Expenses Category Visualization</h2>
        <!-- Your spending vs goal visualization content here -->
    </section>

    <!-- Spending vs Goal Visualization -->
    <section class="dashboard-section">
        <h2>Spending vs Goal Visualization</h2>
        <!-- Your spending vs goal visualization content here -->
    </section>

    <!-- Income vs Expenses Visualization -->
    <section class="dashboard-section">
        <h2>Income vs Expenses Visualization</h2>
        <!-- Your income vs expenses visualization content here -->
    </section>

    <!-- Transactions -->
<section class="dashboard-section">
    <h2>Transactions</h2>
    
    <!-- Transaction History Table -->
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Cashflow</th>
                <th>Category</th>
                <th>Mode</th>
                <th>Amount</th>
            </tr>
        </thead>
        <tbody>
            <!-- Check if there are transactions to display -->
            {% if transactions %}
                <!-- Loop through and display transaction history items -->
                {% for transaction in transactions %}
                <tr>
                    <td>{{ transaction.date }}</td>
                    <td>{{ transaction.cashflow }}</td>
                    <td>{{ transaction.category }}</td>
                    <td>{{ transaction.mode }}</td>
                    <td>{{ transaction.amount }}</td>
                </tr>
                {% endfor %}
            {% else %}
                <!-- Display a message when there are no transactions -->
                <tr>
                    <td colspan="5">No transactions to display.</td>
                </tr>
            {% endif %}
        </tbody>
    </table>

    <!-- Pagination -->
    <div class="pagination">
        <span class="page-number">Page {{ transactions.page }} of {{ transactions.pages }}</span>
        {% if transactions.has_prev %}
            <a href="{{ url_for('dashboard.dashboard', page=transactions.prev_num) }}" class="page-link">Previous</a>
        {% endif %}
        {% if transactions.has_next %}
            <a href="{{ url_for('dashboard.dashboard', page=transactions.next_num) }}" class="page-link">Next</a>
        {% endif %}
    </div>
</section>

{% endblock %}
